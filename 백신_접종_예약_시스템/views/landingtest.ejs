<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko">
<head>
	<title>예방접종 사전예약 시스템</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Expires" content="-1"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="X-Content-Type-Options" content="nosniff" />
	<meta http-equiv="X-Xss-Protection" content="1; mode=block" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

	<meta name="title" content="예방접종 사전예약 시스템" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="예방접종 사전예약 시스템" />
	<meta property="og:site_name" content="예방접종 사전예약 시스템" />
	<meta property="og:description" content="예방접종 사전예약 시스템" />
	<meta property="og:url" content="https://ncvr2.kdca.go.kr" />

	<!-- #FAVICONS -->
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/images/favicon.ico" type="image/x-icon">

	<!-- Style -->
	<link rel="stylesheet" href="/stylesheets/ui_pack.min.css">

    <script type="text/javascript" src="/js/common.min.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/landing.min.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/netfunnel.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/netfunnel_skin.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/netfunnel_custom_skin.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/netfunnel_custom_mobile_skin.js" charset="UTF-8"></script>
	<script type="text/javascript" src="/js/jquery-3.5.1.min.js" charset="UTF-8"></script>

	<!-- 인증사별 현재 상태 정보를 가지고 있는 JSON -->
	<script src="/js/status/kdcastatus.js" type="text/javascript"></script>
	<script src="/js/status/naverstatus.js" type="text/javascript"></script>
	<script src="/js/status/kakaostatus.js" type="text/javascript"></script>
	<script src="/js/status/PASS_CERTstatus.js" type="text/javascript"></script>
	<script src="/js/status/nicegenstatus.js" type="text/javascript"></script>
	<script src="/js/status/nicefinstatus.js" type="text/javascript"></script>
	<script src="/js/status/kcbstatus.js" type="text/javascript"></script>

	<script type="text/javascript">

		var kdcaStatus = JSON.parse(kdca_status).status;
		if(kdcaStatus == null) {
			kdcaStatus = "G";
		}

		var naverStatus = JSON.parse(naver_status).status;
		if(naverStatus == null) {
			naverStatus = "G";
		}

		var kakaoStatus = JSON.parse(kakao_status).status;
		if(kakaoStatus == null) {
			kakaoStatus = "G";
		}

		var passStatus = JSON.parse(PASS_CERT_status).status;
		if(passStatus == null) {
			passStatus = "G";
		}

		var nicegenStatus = JSON.parse(nicegen_status).status;
		if(nicegenStatus == null) {
			nicegenStatus = "G";
		}

		var nicefinStatus = JSON.parse(nicefin_status).status;
		if(nicefinStatus == null) {
			nicefinStatus = "G";
		}

		var kcbStatus = JSON.parse(kcb_status).status;
		if(kcbStatus == null) {
			kcbStatus = "G";
		}

		var arrServer = [ "naver", "kakao", "pass", "nicegen", "nicefin", "kcb" ];
		var arrStatus = [ naverStatus, kakaoStatus, passStatus, nicegenStatus, nicefinStatus, kcbStatus ];

		// redirect KDCA
		window.onload = function() {
			if (kdcaStatus == "N") {
				window.location.assign(domain + "/kdca.html");
			}
		}

		function getCookie(name) {
			var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
			return value? unescape(value[2]) : null;
		}

		function closeModal() {
			$("#pop-block, #pop-modal").removeClass("open");
		}

		function reset() {
			sessionStorage.removeItem('init.kdca');
			window.location.assign(domain);
		}

	</script>
</head>

<style>
	#pop-modal { width: 600px !important; }
	#pop-modal .-contents { line-height: 23px; }
	.btn-booking[disabled] { cursor: not-allowed; -webkit-user-select: none; -moz-user-select: none;-ms-user-select: none; user-select: none; }
</style>

<body>
	<div class="wrapper">
		<header>
			<a href=".">질병관리청</a>
			<div class="title-logo">
				<span>코로나바이러스감염증-19 │ 인플루엔자</span>
				<p>예방접종 사전예약 시스템</p>
			</div>
		</header>

		<div class="main-ready">
			 <div class="main-visual">
				<div class="head-visual">
				   <h2>
					 <strong>본인 인증 방법</strong>을 선택하고 인증을 진행해 주세요.<br/>
					   인증 방법별로 대기 시간이 다를 수 있습니다.
				   </h2>
				</div><!-- //head-visual -->
			</div><!-- //main-visual -->

			<div class="traffic-mark-wrapper">
				<h3>인증 대기 신호등</h3>
				<div class="traffic-mark">
					<span class="landing-status-img"><img src="/images/status_s_01.png" alt=""></span>
					<span class="landing-status-img"><img src="/images/status_s_02.png" alt=""></span>
					<span class="landing-status-img"><img src="/images/status_s_03.png" alt=""></span>
					<span class="landing-status-img none"><img src="/images/status_s_04.png" alt=""></span>
				</div>
			</div>

			<p class="auth-method-info">본인 인증 방법별 <em>인증 대기 신호등을 확인</em>하고 선택하세요.</p>

			<div class="auth-method-wrapper">
				<div class="auth-method">
					<div class="auth-method-input">
						<input type="radio" name="certi" value="naver" class="-check" id="label-naver" key="certNaver01">
						<label for="label-naver">
							<div class="status_box">
								<span class="auth-sort-wrapper status_color_box naver">
									<em class="auth-sort-text landing-status_color status_g active"><span></span>원활</em>
									<em class="auth-sort-text landing-status_color status_y"><span></span>지연</em>
									<em class="auth-sort-text landing-status_color status_r"><span></span>혼잡</em>
									<em class="auth-sort-text landing-status_color status_n"><span></span>선택불가</em>
									<em class="auth-sort naver"></em>
									<em class="auth-sort-text">네이버 인증서</em>
								</span>
							</div>
						</label>
					</div>
				</div>

				<div class="auth-method">
					<div class="auth-method-input">
						<input type="radio" name="certi" value="kakao" class="-check" id="label-kakao" key="certKakao01">
						<label for="label-kakao">
							<div class="status_box">
								<span class="auth-sort-wrapper status_color_box kakao">
									<em class="auth-sort-text landing-status_color status_g active"><span></span>원활</em>
									<em class="auth-sort-text landing-status_color status_y"><span></span>지연</em>
									<em class="auth-sort-text landing-status_color status_r"><span></span>혼잡</em>
									<em class="auth-sort-text landing-status_color status_n"><span></span>선택불가</em>
									<em class="auth-sort kakao"></em>
									<em class="auth-sort-text">카카오 인증</em>
								</span>
							</div>
						</label>
					</div>
				</div>

				<div class="auth-method">
					<div class="auth-method-input">
						<input type="radio" name="certi" value="pass" class="-check" id="label-pass" key="certPass01">
						<label for="label-pass">
							<div class="status_box">
								<span class="auth-sort-wrapper status_color_box pass">
									<em class="auth-sort-text landing-status_color status_g active"><span></span>원활</em>
									<em class="auth-sort-text landing-status_color status_y"><span></span>지연</em>
									<em class="auth-sort-text landing-status_color status_r"><span></span>혼잡</em>
									<em class="auth-sort-text landing-status_color status_n"><span></span>선택불가</em>
									<em class="auth-sort pass"></em>
									<em class="auth-sort-text">PASS 인증서</em>
								</span>
							</div>
						</label>
					</div>
				</div>


				<div class="auth-method mobile_auth">
					<div class="auth-method-input">
						<input type="radio" name="certi" value="nicefin" class="-check" id="label-nicefin" key="certFin01">
						<label for="label-nicefin">
							<div class="status_box">
								<span class="auth-sort-wrapper status_color_box nicefin">
									<em class="auth-sort-text landing-status_color status_g active"><span></span>원활</em>
									<em class="auth-sort-text landing-status_color status_y"><span></span>지연</em>
									<em class="auth-sort-text landing-status_color status_r"><span></span>혼잡</em>
									<em class="auth-sort-text landing-status_color status_n"><span></span>선택불가</em>
									<em class="auth-sort finance"></em>
									<em class="auth-sort-text">금융인증서</em>
								</span>
							</div>
						</label>
					</div>
				</div>

				<div class="auth-method">
					<div class="auth-method-input">
						<input type="radio" name="certi" value="kcb" class="-check" id="label-kcb" key="certKcb01">
						<label for="label-kcb">
							<div class="status_box">
								<span class="auth-sort-wrapper status_color_box kcb">
									<em class="auth-sort-text landing-status_color status_g active"><span></span>원활</em>
									<em class="auth-sort-text landing-status_color status_y"><span></span>지연</em>
									<em class="auth-sort-text landing-status_color status_r"><span></span>혼잡</em>
									<em class="auth-sort-text landing-status_color status_n"><span></span>선택불가</em>
									<em class="auth-sort phone"></em>
									<em class="auth-sort-text">휴대폰 인증</em>
								</span>
							</div>
						</label>
					</div>
				</div>
			</div>

	 		<div class="btn-booking" id="btn-certify"><strong>본인인증</strong>바로가기</div>
		</div>
	</div>

	<form name="nfForm" method="post" action="">
		<input type="hidden" name="netfunnel_key" value="" />
	</form>

	<footer>
		<div class="footer">
			<div class="foot-info clearfix">
				<h5>예방접종 사전예약 시스템</h5>certify
			<address>(28159) 충북 청주시 흥덕구 오송읍 오송생명2로 187 오송보건의료행정타운내 질병관리청</address>
			<p class="copyright">COPYRIGHT © 2021 질병관리청 ALL RIGHTS RESERVED.</p>
			<div class="nuri"><img src="/images/nuri.png" alt="OPEN/출처표시/상업용금지/변경금지/공공누리 공공저작물 자유이용허락"></div>
		</div>
	</footer>
</body>

<div class="dimmed" id="pop-block"></div>

<section class="-wrapper-popup -mb-4" id="pop-modal">
	<div class="-header">
		<p class="-h2">확인</p>
	</div>

	<div class="-contents">
		10분 이내 본인인증을 진행한 기록이 있습니다.<br/>
		동일한 사용자는 10분 이내에 중복으로 예약 페이지에 진입할 수 없습니다.<br/>
		만약 다른 사용자의 예약을 진행하시려면 '계속 진행'을 선택해주세요.
	</div>

	<footer class="-footer">
		<button type="button" name="button" class="-btn secondary- auto-" onclick="reset()">나가기</button>
		<button type="button" name="button" class="-btn primary- auto-" onclick="closeModal()">계속 진행</button>
	</footer>
</section>

<script>

	$(document).ready(function() {

		$("#btn-certify").on("click", function() {
			var params = {};
			params.server = $("input[name='certi']:checked").val();
			params.key = $("input[name='certi']:checked").attr("key");

			if(!isNotEmpty(params.server)) {
				alert("본인 인증 방법을 선택해주세요.");
				return false;
			}else{
                if(params.server == 'naver'){
                    window.location.assign('http://localhost:3000'+'/naverlogin');
                }else if(params.server == 'kakao'){
                    alert("카카오 선택");
                }
                return false;
            }
            
			
		});



	});

</script>
</html>